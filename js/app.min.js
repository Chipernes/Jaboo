(()=>{"use strict";const e=document.querySelectorAll(".popup-link"),t=document.querySelector("body"),n=document.querySelectorAll(".lock-padding");let o=!0;const i=300;if(e.length>0)for(let t=0;t<e.length;t+=1){const n=e[t];n.addEventListener("click",(e=>{const t=n.getAttribute("href").replace("#","");r(document.getElementById(t)),e.preventDefault()}))}const c=document.querySelectorAll(".close-popup");if(c.length>0)for(let e=0;e<c.length;e+=1){const t=c[e];t.addEventListener("click",(e=>{l(t.closest(".popup")),e.preventDefault()}))}function r(e){if(e&&o){const c=document.querySelector(".popup-open");c?l(c,!1):function(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(n.length>0)for(let t=0;t<n.length;t+=1)n[t].style.paddingRight=e;t.style.paddingRight=e,t.classList.add("lock"),o=!1,setTimeout((()=>{o=!0}),i)}(),e.classList.add("open"),e.addEventListener("click",(e=>{e.target.closest(".popup__content")||l(e.target.closest(".popup"))}))}}function l(e,c=!0){o&&(e.classList.remove("open"),c&&(setTimeout((()=>{if(n.length>0)for(let e=0;e<n.length;e+=1)n[e].style.paddingRight="0";t.style.paddingRight="0",t.classList.remove("lock")}),i),o=!1,setTimeout((()=>{o=!0}),i)))}document.addEventListener("keydown",(e=>{"Escape"===e.code&&l(document.querySelector(".popup.open"))})),new Swiper(".testimonials__swiper",{direction:"horizontal",loop:!1,effect:"cards",grabCursor:!0,pagination:{el:".testimonials__swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});const s=document.querySelector("body"),d=document.querySelector(".icon-menu"),a=document.querySelector(".menu__list"),u=document.querySelector(".menu__personalisation");d?.addEventListener("click",(e=>{d.classList.toggle("menu-open"),a.classList.toggle("menu-open"),u.classList.toggle("menu-open"),s.classList.toggle("lock")}));const p=window.matchMedia("(max-width: 425px)");function g(){window.innerWidth<=425&&(a.insertAdjacentHTML("beforeend",u.innerHTML),document.querySelector(".menu__personalisation").remove())}window.addEventListener("DOMContentLoaded",g),p.addEventListener("change",(function(){window.innerWidth<=425?g():(a.querySelectorAll(".menu__popup").forEach((e=>e.remove())),a.insertAdjacentHTML("afterend",u.outerHTML))}));const m=document.querySelector(".header");window.addEventListener("scroll",(()=>{window.pageYOffset>m.offsetHeight?m.classList.add("header_fixed"):m.classList.remove("header_fixed")}));const f=document.querySelector(".spoiler"),L=document.querySelector(".spoiler__list"),h=document.querySelector(".spoiler .menu__popup-link");f?.addEventListener("click",(e=>{f.classList.toggle("active")})),L?.addEventListener("click",(e=>{if(e.target.closest(".spoiler__item")){let t=h.innerHTML;h.innerHTML=e.target.innerHTML,e.target.innerHTML=t}})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();